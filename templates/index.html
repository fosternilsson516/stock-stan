<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Stan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #000000;
            color: #ffffff;
            font-family: "Inter Tight", sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 30px;
        }

        .title {
            font-size: 1.2em;
            text-align: right;
            margin-right: 20px; /* Adjust as needed */
        }
        header .title h2 { /* Underline only the title in the header */
            text-decoration: underline;
            text-decoration-color: #9775fa;
            text-decoration-thickness: 3px;
            display: inline-block;        
            width: 100%;                 
        }

        h2:not(.title h2), h3:not(.title h2) {  /* Exclude the title h2 in the header */
            text-decoration: none;
            border-bottom: 2px solid #9775fa; 
            padding-bottom: 5px;
            display: inline-block;
            width: 100%;           
        }

        .stock-stan {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }

        .stock-stan li {
            display: inline;
            margin-right: 20px;
            width: calc(20% - 20px); /* 4 list items per row, minus margin */
            text-align: center; /* Center the text in each item */
            box-sizing: border-box;
        }

        .stock-stan a {
            text-decoration: none;
            color: #f0f0f0;
        }
        .intro {
            text-align: center; /* Center the text */
            font-size: 1.1em;   /* Slightly larger font size */
            margin-bottom: 30px;
        }
        .newsletter-content, .newsletter-content * {  /* Target all elements within .newsletter-content */
            font-family: "Inter Tight", sans-serif !important; 
        }

        .content-container {
            max-width: 900px; /* Adjust as needed */
            width: 90%;
            background-color: #000000;
            padding: 20px;
            border-radius: 10px;
            box-sizing: border-box;
        }
        .content-container li {
            list-style-type: none;
        }

        .feature-image {
            width: 80%; /* Adjust this percentage to control the image size */
            max-width: 500px; /* Set a maximum width to prevent it from becoming too large */
            height: auto;  /* Maintain aspect ratio */
            display: block; /* Makes the image a block-level element */
            margin: 0 auto;  /* Centers the image horizontally */
            border-radius: 10px; /* (Optional) Maintain the rounded corners */
            margin-bottom: 20px; /* (Optional) Add space below the image */
        }

        .newsletter-content {
            line-height: 1.6;
            margin: 0 auto;
        }
        @media (max-width: 786px) { 
            .newsletter-content {
                width: 75%; 
                margin-left: 19%;
            }
            .feature-image {
                width: 75%;
                margin-left: 19%;
            }

            /* Other mobile-specific styles */
        }

        #subscribe .content-container {
            text-align: center; /* Center all content within the subscribe container */
        }

        #subscribe h2 {
            margin-bottom: 20px; /* Add spacing below the heading */
        }

        #subscribe p {
            margin-bottom: 30px; /* Add spacing below the paragraph */
        }

        #subscribe input[type="email"],
        #subscribe button {
            background-color: #282828; /* Dark gray background for input and button */
            color: #f0f0f0;        /* Light text color */
            border: none;          /* Remove default border */
            padding: 12px 20px;    /* Add padding */
            border-radius: 5px;     /* Rounded corners */
            margin: 5px;           /* Spacing between input and button */
            width: 300px;          /* Adjust width as needed */
        }

        #subscribe button {
            background-color: #9775fa; /* Purple background for button */
            cursor: pointer;       /* Show pointer cursor on hover */
        }
        #newsletter a {
            color: #9775fa; /* Blue link color - adjust as needed */
            text-decoration: underline; /* Optional underline */
        }
        .analyst-recommendations {
            margin: 0 auto; /* Centers the table */
            width: 60%; /* Adjust width as needed */
            border-collapse: collapse; /* Merges cell borders for a cleaner look */
            border-color: #9775fa;
        }
        .analyst-recommendations td, th {
            padding: 8px;
            text-align: center; /* Center text in data cells */
        }
    </style>
</head>
<body>
    <header>
        <div class="title">
            <h2>Stock Stan</h2>
        </div>
        <ul class="stock-stan">
            <li><a href="#stock-stan">Home</a></li>
            <li><a href="#newsletter">Newsletter</a></li>
            <li><a href="#subscribe">Subscribe</a></li>
        </ul>
    </header>
    <div id="stock-stan" class="page" style="display: block;">  
        <div class="content-container">
            <div class="intro">
                <h2>Welcome to Stock Stan</h2>

                <p>Tired of sifting through endless stock market noise? Let Stan, your AI-powered market guru, do the heavy lifting!</p>
                
                <p>Each day, Stan devours a feast of financial news, social media buzz, and mountains of market data. He then distills this knowledge into a <strong>concise, AI-generated newsletter</strong> packed with insights and opportunities – all delivered straight to your inbox or directly on the web.</p>
                
                <h3>Why Stan?</h3>
                
                <ul>
                    <li><strong>Unbiased Insights:</strong> Stan's not swayed by emotions or hype – just pure, data-driven analysis.</li>
                    <li><strong>Time-Saving:</strong> Get the market's pulse without spending hours on research.</li>
                    <li><strong>Cutting-Edge:</strong> Stan's AI algorithms are always learning and adapting, so you're always ahead of the curve.</li>
                    <li><strong>It's Free:</strong> Stan's passion is sharing his market wisdom – no strings attached.</li>
                </ul>
                
                <p>Ready to level up your investing game? <strong>Subscribe now</strong> and let Stan unlock the market's secrets for you!</p>
                
                <p class="postscript">
                    P.S. Even the eye-catching image you see on this page is a product of Stan's creative AI mind. He's not just a numbers guy – he's got an artistic streak too!
                </p>
            </div>
        </div>
    </div>

    <div id="newsletter" class="page">
        <div class="content-container">
            <img src="../static/images/Gemini_Generated_Image_07-08-24.jpeg" alt="Feature Image" class="feature-image">
            <div class="newsletter-content">
                {{dynamic_content}}
            </div>
        </div>
    </div>
    <form id="subscribe" class="page">
        <div class="content-container">
            <h2>Subscribe to Stock Stan</h2>
            <p>Get Stan's daily AI-powered market insights delivered straight to your inbox. Stay ahead of the curve and make informed investment decisions. 
                
                Feel free to reply to the email with any suggestions or topics you'd like to see in future newsletters. 

                Blog coming soon!</p>

            <div class="email-form">
                <input type="email" placeholder="Enter your email">
                <button type="submit">Subscribe</button>
            </div>
        </div>
    </form>
    

    <script>
    const menuLinks = document.querySelectorAll('.stock-stan a'); // Select links with class 'stock-stan'
    const pages = document.querySelectorAll('.page');

    // Function to show a specific page
    function showPage(pageId) {
        pages.forEach(page => {
            page.style.display = page.id === pageId ? 'block' : 'none'; // Show the correct page
        });
    }

    // Show the initial page (stock-stan)
    showPage('stock-stan'); // Use correct page ID

    // Add event listeners to menu links
    menuLinks.forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const targetId = link.getAttribute('href').substring(1); // Remove the '#' from the href
            showPage(targetId);
        });
    });
    document.getElementById('subscribe').addEventListener('submit', async (e) => {
    e.preventDefault(); 

    const emailInput = document.querySelector('input[type="email"][placeholder="Enter your email"]');
    const email = emailInput.value;

    if (!validateEmail(email)) { // Add email validation
        alert('Please enter a valid email address.');
        return;
    }

    const response = await fetch('/subscribe', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ 'email': email }) 
    });

    if (response.ok) { // Check if the request was successful
        alert('Thank you! Your email has been saved.');
        window.location.href = '/'; 
    } else {
        alert('An error occurred while subscribing. Please try again later.');
    }
});

function validateEmail(email) { // Basic email validation
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
}
    </script>
</body>
</html>